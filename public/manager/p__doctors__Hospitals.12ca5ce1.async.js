(self.webpackChunkhdf_app_manager=self.webpackChunkhdf_app_manager||[]).push([[371],{23080:function(x,m,e){"use strict";var B=e(85589),c=e.n(B),d=e(85893);function o(v){var M=v.editorState,f=v.setEditorState,g=function(r){f(r)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c(),{style:{border:"1px solid",borderColor:"rgba(0, 0, 0, 0.5)"},value:M,onChange:function(r){return g(r)}})})}m.Z=o},9321:function(x,m,e){"use strict";var B=e(9715),c=e(93766),d=e(43185),o=e(94412),v=e(34792),M=e(48086),f=e(2824),g=e(67294),i=e(7085),r=e(49101),D=e(17024),_=e(85893),t=function(l){var s=l.coverImage,T=l.setCoverImage,Z=(0,g.useState)(!1),K=(0,f.Z)(Z,2),y=K[0],C=K[1],F=function(E){var j=E.type==="image/jpeg"||E.type==="image/png";j||M.default.error("You can only upload JPG/PNG file!");var S=E.size/1024/1024<2;return S||M.default.error("Image must smaller than 2MB!"),j&&S},b=function(E){if(E.file.status==="uploading"){C(!0);return}E.file.status==="done"&&(T(E.file.response.data),C(!1))},Y=(0,_.jsxs)("div",{children:[y?(0,_.jsx)(i.Z,{}):(0,_.jsx)(r.Z,{}),(0,_.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,_.jsx)(c.Z.Item,{label:"\u56FE\u7247",children:(0,_.jsx)(o.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat("","/common/upload"),beforeUpload:F,onChange:b,children:s?(0,_.jsx)("img",{src:(0,D.up)(s),alt:"\u56FE\u7247",style:{maxWidth:"100%",maxHeight:"100%"}}):Y})})};m.Z=t},40829:function(x,m,e){"use strict";e.r(m);var B=e(34792),c=e(48086),d=e(11849),o=e(49111),v=e(19650),M=e(62350),f=e(75443),g=e(57663),i=e(71577),r=e(3182),D=e(9715),_=e(93766),t=e(2824),P=e(94043),l=e.n(P),s=e(67265),T=e(8212),Z=e(73171),K=e(49101),y=e(8890),C=e(5966),F=e(90672),b=e(952),Y=e(35255),h=e(67294),E=e(85589),j=e.n(E),S=e(23080),U=e(12480),q=e(9321),ee=e(17024),a=e(85893);function ae(){var _e=(0,h.useState)(!1),G=(0,t.Z)(_e,2),te=G[0],R=G[1],ne=(0,h.useState)(""),H=(0,t.Z)(ne,2),z=H[0],V=H[1],re=(0,h.useState)(""),J=(0,t.Z)(re,2),N=J[0],Q=J[1],L=(0,h.useRef)(),se=_.Z.useForm(),de=(0,t.Z)(se,1),$=de[0],oe=(0,h.useState)({}),X=(0,t.Z)(oe,2),w=X[0],k=X[1],le=[{title:"\u5E8F\u53F7",align:"center",hideInSearch:!0,render:function(I,p,u){return(0,a.jsx)(a.Fragment,{children:u+1})}},{title:"\u540D\u5B57",align:"center",dataIndex:"name"},{title:"\u4E3B\u56FE",align:"center",hideInSearch:!0,render:function(I,p){return(0,a.jsx)("img",{src:(0,ee.up)(p.image),style:{width:"80px"}})}},{title:"\u63CF\u8FF0",align:"center",dataIndex:"desc",hideInSearch:!0,ellipsis:!0},{title:"\u5730\u5740",align:"center",dataIndex:"address",hideInSearch:!0},{title:"\u7535\u8BDD",align:"center",dataIndex:"phone",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"center",hideInSearch:!0,render:function(I,p){return(0,a.jsxs)(v.Z,{children:[(0,a.jsx)(i.Z,{onClick:(0,r.Z)(l().mark(function u(){var O;return l().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,U.Sf)(p.id);case 2:O=A.sent,k(j().createEditorState(O.content)),R(!0),V(O.image),Q(O.id),$.setFieldsValue(O);case 8:case"end":return A.stop()}},u)})),type:"primary",size:"small",title:"\u7F16\u8F91",icon:(0,a.jsx)(T.Z,{})}),(0,a.jsx)(f.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",onConfirm:(0,r.Z)(l().mark(function u(){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,U.Fv)(p.id);case 2:L.current&&L.current.reload();case 3:case"end":return n.stop()}},u)})),children:(0,a.jsx)(i.Z,{type:"primary",danger:!0,size:"small",title:"\u5220\u9664",icon:(0,a.jsx)(Z.Z,{})})})]})}}];return(0,a.jsxs)(s.ZP,{children:[(0,a.jsx)(Y.ZP,{headerTitle:"\u533B\u9662\u4FE1\u606F",actionRef:L,rowKey:"id",columns:le,pagination:{showSizeChanger:!1,pageSize:10},request:U.e1,toolBarRender:function(){return[(0,a.jsxs)(i.Z,{type:"primary",onClick:function(){R(!0),Q(""),V(""),$.setFieldsValue({name:"",desc:""})},children:[(0,a.jsx)(K.Z,{}),"\u65B0\u5EFA"]},"primary")]}}),(0,a.jsxs)(y.Y,{title:"\u7F16\u8F91",width:"800px",initialValues:{name:"Tom"},form:$,visible:te,onVisibleChange:R,onFinish:function(){var W=(0,r.Z)(l().mark(function I(p){var u;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=(0,d.Z)((0,d.Z)({},p),{},{content:w.toHTML()}),z&&(u.image=z),N==""){n.next=9;break}return n.next=5,(0,U.Ec)(N,u);case 5:c.default.success("\u4FEE\u6539\u6210\u529F"),R(!1),n.next=13;break;case 9:return n.next=11,(0,U.mS)(u);case 11:c.default.success("\u65B0\u589E\u6210\u529F"),R(!1);case 13:L.current&&L.current.reload();case 14:case"end":return n.stop()}},I)}));return function(I){return W.apply(this,arguments)}}(),children:[(0,a.jsx)(C.Z,{label:"\u540D\u5B57",rules:[{required:!0,message:"\u5206\u7C7B\u540D\u5B57\u5FC5\u586B"}],placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u5B57",width:"md",name:"name"}),(0,a.jsx)(F.Z,{label:"\u7B80\u4ECB",placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",width:"md",name:"desc"}),(0,a.jsx)(q.Z,{coverImage:z,setCoverImage:V}),(0,a.jsx)(C.Z,{label:"\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",width:"md",name:"address"}),(0,a.jsx)(C.Z,{label:"\u7535\u8BDD",placeholder:"\u8BF7\u8F93\u5165\u7535\u8BDD",width:"md",name:"phone"}),(0,a.jsx)(b.ZP.Item,{label:"\u8BE6\u60C5",children:(0,a.jsx)(S.Z,{editorState:w,setEditorState:k})})]})]})}m.default=ae},12480:function(x,m,e){"use strict";e.d(m,{e1:function(){return M},Sf:function(){return f},mS:function(){return g},Ec:function(){return i},Fv:function(){return r}});var B=e(3182),c=e(94043),d=e.n(c),o=e(21010);function v(){return request("/admin/hospitals?per=100")}var M=function(){var D=(0,B.Z)(d().mark(function _(t){var P;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,o.WY)("/admin/hospitals",{method:"get",params:{page:t.current,name:t.name,per:t.pageSize}});case 2:return P=s.sent,console.log(P),s.abrupt("return",new Promise(function(T){T({data:P.list,success:!0,total:P.total})}));case 5:case"end":return s.stop()}},_)}));return function(t){return D.apply(this,arguments)}}(),f=function(_){return(0,o.WY)("/admin/hospitals/".concat(_),{method:"GET"})},g=function(_){return(0,o.WY)("/admin/hospitals",{method:"POST",data:_})},i=function(_,t){return(0,o.WY)("/admin/hospitals/".concat(_),{method:"PATCH",data:t})},r=function(_){return(0,o.WY)("/admin/hospitals/".concat(_),{method:"DELETE"})}}}]);
