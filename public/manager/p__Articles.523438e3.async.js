(self.webpackChunkhdf_app_manager=self.webpackChunkhdf_app_manager||[]).push([[33],{64317:function(N,M,e){"use strict";var T=e(22122),f=e(28991),p=e(81253),n=e(67294),O=e(10244),h=e(22270),S=e(66758),E=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],u=n.forwardRef(function(t,d){var I=t.fieldProps,j=t.children,x=t.params,F=t.proFieldProps,y=t.mode,W=t.valueEnum,L=t.request,A=t.showSearch,R=t.options,o=(0,p.Z)(t,E),_=(0,n.useContext)(S.Z);return n.createElement(O.Z,(0,T.Z)({mode:"edit",valueEnum:(0,h.h)(W),request:L,params:x,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,f.Z)({options:R,mode:y,showSearch:A,getPopupContainer:_.getPopupContainer},I),ref:d,proFieldProps:F},o),j)}),C=n.forwardRef(function(t,d){var I=t.fieldProps,j=t.children,x=t.params,F=t.proFieldProps,y=t.mode,W=t.valueEnum,L=t.request,A=t.options,R=(0,p.Z)(t,c),o=(0,f.Z)({options:A,mode:y||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},I),_=(0,n.useContext)(S.Z);return n.createElement(O.Z,(0,T.Z)({mode:"edit",valueEnum:(0,h.h)(W),request:L,params:x,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,f.Z)({getPopupContainer:_.getPopupContainer},o),ref:d,proFieldProps:F},R),j)}),a=u,s=C,g=a;g.SearchSelect=s,g.displayName="ProFormComponent",M.Z=g},23080:function(N,M,e){"use strict";var T=e(85589),f=e.n(T),p=e(85893);function n(O){var h=O.editorState,S=O.setEditorState,E=function(u){S(u)};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(f(),{style:{border:"1px solid",borderColor:"rgba(0, 0, 0, 0.5)"},value:h,onChange:function(u){return E(u)}})})}M.Z=n},9321:function(N,M,e){"use strict";var T=e(9715),f=e(93766),p=e(43185),n=e(94412),O=e(34792),h=e(48086),S=e(2824),E=e(67294),c=e(7085),u=e(49101),C=e(17024),a=e(85893),s=function(t){var d=t.coverImage,I=t.setCoverImage,j=(0,E.useState)(!1),x=(0,S.Z)(j,2),F=x[0],y=x[1],W=function(o){var _=o.type==="image/jpeg"||o.type==="image/png";_||h.default.error("You can only upload JPG/PNG file!");var V=o.size/1024/1024<2;return V||h.default.error("Image must smaller than 2MB!"),_&&V},L=function(o){if(o.file.status==="uploading"){y(!0);return}o.file.status==="done"&&(I(o.file.response.data),y(!1))},A=(0,a.jsxs)("div",{children:[F?(0,a.jsx)(c.Z,{}):(0,a.jsx)(u.Z,{}),(0,a.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,a.jsx)(f.Z.Item,{label:"\u56FE\u7247",children:(0,a.jsx)(n.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat("","/common/upload"),beforeUpload:W,onChange:L,children:d?(0,a.jsx)("img",{src:(0,C.up)(d),alt:"\u56FE\u7247",style:{maxWidth:"100%",maxHeight:"100%"}}):A})})};M.Z=s},34945:function(N,M,e){"use strict";e.r(M),e.d(M,{default:function(){return fe}});var T=e(34792),f=e(48086),p=e(49111),n=e(19650),O=e(62350),h=e(75443),S=e(57663),E=e(71577),c=e(11849),u=e(3182),C=e(9715),a=e(93766),s=e(2824),g=e(94043),t=e.n(g),d=e(67265),I=e(8212),j=e(73171),x=e(49101),F=e(952),y=e(8890),W=e(5966),L=e(64317),A=e(90672),R=e(35255),o=e(67294),_=e(85589),V=e.n(_),ne=e(23080),$=e(21010);function De(){return request("/admin/articles?per=100")}var oe=function(){var U=(0,u.Z)(t().mark(function m(K){var D;return t().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,$.WY)("/admin/articles",{method:"get",params:{page:K.current,name:K.name}});case 2:return D=Z.sent,console.log(D),Z.abrupt("return",new Promise(function(G){G({data:D.list,success:!0,total:D.total})}));case 5:case"end":return Z.stop()}},m)}));return function(K){return U.apply(this,arguments)}}(),se=function(m){return(0,$.WY)("/admin/articles/".concat(m),{method:"GET"})},le=function(m){return(0,$.WY)("/admin/articles",{method:"POST",data:m})},de=function(m,K){return(0,$.WY)("/admin/articles/".concat(m),{method:"PATCH",data:K})},ue=function(m){return(0,$.WY)("/admin/articles/".concat(m),{method:"DELETE"})},ie=e(9377),ce=e(9321),me=e(17024),r=e(85893);function ve(){var U=(0,o.useState)(!1),m=(0,s.Z)(U,2),K=m[0],D=m[1],X=(0,o.useState)(""),Z=(0,s.Z)(X,2),G=Z[0],J=Z[1],pe=(0,o.useState)(""),w=(0,s.Z)(pe,2),k=w[0],q=w[1],z=(0,o.useRef)(),he=a.Z.useForm(),Ee=(0,s.Z)(he,1),b=Ee[0],ge=(0,o.useState)({}),ee=(0,s.Z)(ge,2),te=ee[0],Pe=ee[1],Me=(0,o.useState)({}),ae=(0,s.Z)(Me,2),re=ae[0],Q=ae[1];(0,o.useEffect)(function(){(0,ie.Lp)().then(function(B){var P={};P[0]={text:"\u5168\u90E8"},B.list.forEach(function(v){P[v.id]={text:v.name}}),Pe(P)})},[]);var Ce=[{title:"\u5E8F\u53F7",align:"center",hideInSearch:!0,render:function(P,v,i){return(0,r.jsx)(r.Fragment,{children:i+1})}},{title:"\u540D\u5B57",align:"center",dataIndex:"name"},{title:"\u4E3B\u56FE",align:"center",hideInSearch:!0,render:function(P,v){return(0,r.jsx)("img",{src:(0,me.up)(v.image),style:{width:"80px"}})}},{title:"\u6D4F\u89C8\u6B21\u6570",align:"center",hideInSearch:!0,dataIndex:"views"},{title:"\u5206\u7C7B",align:"center",dataIndex:"category",render:function(P,v){var i;return(0,r.jsx)("p",{children:(i=v.category)===null||i===void 0?void 0:i.name})},filters:!0,onFilter:!0,valueType:"select",valueEnum:te},{title:"\u63CF\u8FF0",align:"center",dataIndex:"desc",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"center",hideInSearch:!0,render:function(P,v){return(0,r.jsxs)(n.Z,{children:[(0,r.jsx)(E.Z,{onClick:(0,u.Z)(t().mark(function i(){var Y,l;return t().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,se(v.id);case 2:Y=H.sent,D(!0),J(Y.image),Q(V().createEditorState(Y.content)),q(Y.id),l=(0,c.Z)({},Y),delete l.category,b.setFieldsValue((0,c.Z)((0,c.Z)({},l),{},{category:"".concat(v.category.id)}));case 10:case"end":return H.stop()}},i)})),type:"primary",size:"small",title:"\u7F16\u8F91",icon:(0,r.jsx)(I.Z,{})}),(0,r.jsx)(h.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",onConfirm:(0,u.Z)(t().mark(function i(){return t().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ue(v.id);case 2:z.current&&z.current.reload();case 3:case"end":return l.stop()}},i)})),children:(0,r.jsx)(E.Z,{type:"primary",danger:!0,size:"small",title:"\u5220\u9664",icon:(0,r.jsx)(j.Z,{})})})]})}}];return(0,r.jsxs)(d.ZP,{children:[(0,r.jsx)(R.ZP,{headerTitle:"\u8D44\u8BAF",actionRef:z,rowKey:"id",columns:Ce,pagination:{showSizeChanger:!1,pageSize:10},request:oe,toolBarRender:function(){return[(0,r.jsxs)(E.Z,{type:"primary",onClick:function(){D(!0),Q(V().createEditorState("")),q(""),J(""),b.setFieldsValue({name:"",desc:""})},children:[(0,r.jsx)(x.Z,{}),"\u65B0\u5EFA"]},"primary")]}}),(0,r.jsxs)(y.Y,{title:"\u7F16\u8F91",width:"800px",initialValues:{name:"Tom"},form:b,visible:K,onVisibleChange:D,onFinish:function(){var B=(0,u.Z)(t().mark(function P(v){var i;return t().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i=(0,c.Z)((0,c.Z)({},v),{},{content:re.toHTML()}),G&&(i.image=G),k==""){l.next=9;break}return l.next=5,de(k,i);case 5:f.default.success("\u4FEE\u6539\u6210\u529F"),D(!1),l.next=13;break;case 9:return l.next=11,le(i);case 11:f.default.success("\u65B0\u589E\u6210\u529F"),D(!1);case 13:z.current&&z.current.reload();case 14:case"end":return l.stop()}},P)}));return function(P){return B.apply(this,arguments)}}(),children:[(0,r.jsx)(W.Z,{label:"\u540D\u5B57",rules:[{required:!0,message:"\u5206\u7C7B\u540D\u5B57\u5FC5\u586B"}],placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u5B57",width:"md",name:"name"}),(0,r.jsx)(L.Z,{name:"articleCategoryId",label:"\u5206\u7C7B",valueEnum:te,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5546\u54C1\u5206\u7C7B"}]}),(0,r.jsx)(A.Z,{label:"\u7B80\u4ECB",placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",width:"md",name:"desc"}),(0,r.jsx)(ce.Z,{coverImage:G,setCoverImage:J}),(0,r.jsx)(F.ZP.Item,{label:"\u8BE6\u60C5",children:(0,r.jsx)(ne.Z,{editorState:re,setEditorState:Q})})]})]})}var fe=ve},9377:function(N,M,e){"use strict";e.d(M,{Lp:function(){return O},e1:function(){return h},Sf:function(){return S},mS:function(){return E},Ec:function(){return c},Fv:function(){return u}});var T=e(3182),f=e(94043),p=e.n(f),n=e(21010);function O(){return(0,n.WY)("/admin/article_categories?per=100")}var h=function(){var C=(0,T.Z)(p().mark(function a(s){var g;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,n.WY)("/admin/article_categories",{method:"get",params:{page:s.current,name:s.name}});case 2:return g=d.sent,console.log(g),d.abrupt("return",new Promise(function(I){I({data:g.list,success:!0,total:g.total})}));case 5:case"end":return d.stop()}},a)}));return function(s){return C.apply(this,arguments)}}(),S=function(a){return(0,n.WY)("/admin/article_categories/".concat(a),{method:"GET"})},E=function(a){return(0,n.WY)("/admin/article_categories",{method:"POST",data:a})},c=function(a,s){return(0,n.WY)("/admin/article_categories/".concat(a),{method:"PATCH",data:s})},u=function(a){return(0,n.WY)("/admin/article_categories/".concat(a),{method:"DELETE"})}}}]);
