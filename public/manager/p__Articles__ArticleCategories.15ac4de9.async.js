(self.webpackChunkhdf_app_manager=self.webpackChunkhdf_app_manager||[]).push([[271],{90672:function(y,E,e){"use strict";var B=e(22122),c=e(81253),P=e(67294),n=e(10244),v=["fieldProps","proFieldProps"],f=function(D,u){var i=D.fieldProps,o=D.proFieldProps,_=(0,c.Z)(D,v);return P.createElement(n.Z,(0,B.Z)({ref:u,mode:"edit",valueType:"textarea",fieldProps:i,proFieldProps:o},_))};E.Z=P.forwardRef(f)},9321:function(y,E,e){"use strict";var B=e(9715),c=e(93766),P=e(43185),n=e(94412),v=e(34792),f=e(48086),g=e(2824),D=e(67294),u=e(7085),i=e(49101),o=e(17024),_=e(85893),t=function(l){var s=l.coverImage,T=l.setCoverImage,Z=(0,D.useState)(!1),R=(0,g.Z)(Z,2),F=R[0],K=R[1],x=function(m){var j=m.type==="image/jpeg"||m.type==="image/png";j||f.default.error("You can only upload JPG/PNG file!");var a=m.size/1024/1024<2;return a||f.default.error("Image must smaller than 2MB!"),j&&a},S=function(m){if(m.file.status==="uploading"){K(!0);return}m.file.status==="done"&&(T(m.file.response.data),K(!1))},h=(0,_.jsxs)("div",{children:[F?(0,_.jsx)(u.Z,{}):(0,_.jsx)(i.Z,{}),(0,_.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,_.jsx)(c.Z.Item,{label:"\u56FE\u7247",children:(0,_.jsx)(n.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat("","/common/upload"),beforeUpload:x,onChange:S,children:s?(0,_.jsx)("img",{src:(0,o.up)(s),alt:"\u56FE\u7247",style:{maxWidth:"100%",maxHeight:"100%"}}):h})})};E.Z=t},4716:function(y,E,e){"use strict";e.r(E);var B=e(34792),c=e(48086),P=e(11849),n=e(49111),v=e(19650),f=e(62350),g=e(75443),D=e(57663),u=e(71577),i=e(3182),o=e(9715),_=e(93766),t=e(2824),p=e(94043),l=e.n(p),s=e(67265),T=e(8212),Z=e(73171),R=e(49101),F=e(8890),K=e(5966),x=e(90672),S=e(35255),h=e(67294),M=e(9377),m=e(9321),j=e(17024),a=e(85893);function N(){var Q=(0,h.useState)(!1),$=(0,t.Z)(Q,2),X=$[0],A=$[1],w=(0,h.useState)(""),z=(0,t.Z)(w,2),b=z[0],Y=z[1],k=(0,h.useState)(""),G=(0,t.Z)(k,2),H=G[0],J=G[1],U=(0,h.useRef)(),q=_.Z.useForm(),ee=(0,t.Z)(q,1),V=ee[0],_e=[{title:"\u5E8F\u53F7",align:"center",hideInSearch:!0,render:function(C,O,d){return(0,a.jsx)(a.Fragment,{children:d+1})}},{title:"\u540D\u5B57",align:"center",dataIndex:"name"},{title:"\u4E3B\u56FE",align:"center",hideInSearch:!0,render:function(C,O){return(0,a.jsx)("img",{src:(0,j.up)(O.image),style:{width:"80px"}})}},{title:"\u63CF\u8FF0",align:"center",dataIndex:"desc",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"center",hideInSearch:!0,render:function(C,O){return(0,a.jsxs)(v.Z,{children:[(0,a.jsx)(u.Z,{onClick:(0,i.Z)(l().mark(function d(){var I;return l().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,M.Sf)(O.id);case 2:I=L.sent,A(!0),Y(I.image),J(I.id),V.setFieldsValue(I);case 7:case"end":return L.stop()}},d)})),type:"primary",size:"small",title:"\u7F16\u8F91",icon:(0,a.jsx)(T.Z,{})}),(0,a.jsx)(g.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",onConfirm:(0,i.Z)(l().mark(function d(){return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,M.Fv)(O.id);case 2:U.current&&U.current.reload();case 3:case"end":return r.stop()}},d)})),children:(0,a.jsx)(u.Z,{type:"primary",danger:!0,size:"small",title:"\u5220\u9664",icon:(0,a.jsx)(Z.Z,{})})})]})}}];return(0,a.jsxs)(s.ZP,{children:[(0,a.jsx)(S.ZP,{headerTitle:"\u8D44\u8BAF\u5206\u7C7B",actionRef:U,rowKey:"id",columns:_e,pagination:{showSizeChanger:!1,pageSize:10},request:M.e1,toolBarRender:function(){return[(0,a.jsxs)(u.Z,{type:"primary",onClick:function(){A(!0),J(""),Y(""),V.setFieldsValue({name:"",desc:""})},children:[(0,a.jsx)(R.Z,{}),"\u65B0\u5EFA"]},"primary")]}}),(0,a.jsxs)(F.Y,{title:"\u8D44\u8BAF\u5206\u7C7B\u7F16\u8F91",width:"800px",initialValues:{name:"Tom"},form:V,visible:X,onVisibleChange:A,onFinish:function(){var W=(0,i.Z)(l().mark(function C(O){var d;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(d=(0,P.Z)({},O),b&&(d.image=b),H==""){r.next=9;break}return r.next=5,(0,M.Ec)(H,d);case 5:c.default.success("\u4FEE\u6539\u6210\u529F"),A(!1),r.next=13;break;case 9:return r.next=11,(0,M.mS)(d);case 11:c.default.success("\u65B0\u589E\u6210\u529F"),A(!1);case 13:U.current&&U.current.reload();case 14:case"end":return r.stop()}},C)}));return function(C){return W.apply(this,arguments)}}(),children:[(0,a.jsx)(K.Z,{label:"\u540D\u5B57",rules:[{required:!0,message:"\u5206\u7C7B\u540D\u5B57\u5FC5\u586B"}],placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u5B57",width:"md",name:"name"}),(0,a.jsx)(x.Z,{label:"\u7B80\u4ECB",placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",width:"md",name:"desc"}),(0,a.jsx)(m.Z,{coverImage:b,setCoverImage:Y})]})]})}E.default=N},9377:function(y,E,e){"use strict";e.d(E,{Lp:function(){return v},e1:function(){return f},Sf:function(){return g},mS:function(){return D},Ec:function(){return u},Fv:function(){return i}});var B=e(3182),c=e(94043),P=e.n(c),n=e(21010);function v(){return(0,n.WY)("/admin/article_categories?per=100")}var f=function(){var o=(0,B.Z)(P().mark(function _(t){var p;return P().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,n.WY)("/admin/article_categories",{method:"get",params:{page:t.current,name:t.name}});case 2:return p=s.sent,console.log(p),s.abrupt("return",new Promise(function(T){T({data:p.list,success:!0,total:p.total})}));case 5:case"end":return s.stop()}},_)}));return function(t){return o.apply(this,arguments)}}(),g=function(_){return(0,n.WY)("/admin/article_categories/".concat(_),{method:"GET"})},D=function(_){return(0,n.WY)("/admin/article_categories",{method:"POST",data:_})},u=function(_,t){return(0,n.WY)("/admin/article_categories/".concat(_),{method:"PATCH",data:t})},i=function(_){return(0,n.WY)("/admin/article_categories/".concat(_),{method:"DELETE"})}}}]);
