(self.webpackChunkhdf_app_manager=self.webpackChunkhdf_app_manager||[]).push([[765],{63434:function(A,E,e){"use strict";var M=e(63185),v=e(9676),l=e(22122),o=e(28991),O=e(81253),i=e(67294),g=e(10244),u=e(22270),h=e(64893),p=["options","fieldProps","proFieldProps","valueEnum"],s=i.forwardRef(function(a,r){var P=a.options,W=a.fieldProps,B=a.proFieldProps,L=a.valueEnum,Z=(0,O.Z)(a,p);return i.createElement(g.Z,(0,l.Z)({ref:r,valueType:"checkbox",mode:"edit",valueEnum:(0,u.h)(L,void 0),fieldProps:(0,o.Z)({options:P},W),proFieldProps:B},Z))}),t=i.forwardRef(function(a,r){var P=a.fieldProps,W=a.children;return i.createElement(v.Z,(0,l.Z)({ref:r},P),W)}),n=(0,h.G)(t,{valuePropName:"checked"}),d=n;d.Group=s,E.Z=d},64317:function(A,E,e){"use strict";var M=e(22122),v=e(28991),l=e(81253),o=e(67294),O=e(10244),i=e(22270),g=e(66758),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=o.forwardRef(function(a,r){var P=a.fieldProps,W=a.children,B=a.params,L=a.proFieldProps,Z=a.mode,x=a.valueEnum,y=a.request,R=a.showSearch,K=a.options,T=(0,l.Z)(a,u),D=(0,o.useContext)(g.Z);return o.createElement(O.Z,(0,M.Z)({mode:"edit",valueEnum:(0,i.h)(x),request:y,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,v.Z)({options:K,mode:Z,showSearch:R,getPopupContainer:D.getPopupContainer},P),ref:r,proFieldProps:L},T),W)}),s=o.forwardRef(function(a,r){var P=a.fieldProps,W=a.children,B=a.params,L=a.proFieldProps,Z=a.mode,x=a.valueEnum,y=a.request,R=a.options,K=(0,l.Z)(a,h),T=(0,v.Z)({options:R,mode:Z||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},P),D=(0,o.useContext)(g.Z);return o.createElement(O.Z,(0,M.Z)({mode:"edit",valueEnum:(0,i.h)(x),request:y,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,v.Z)({getPopupContainer:D.getPopupContainer},T),ref:r,proFieldProps:L},K),W)}),t=p,n=s,d=t;d.SearchSelect=n,d.displayName="ProFormComponent",E.Z=d},23080:function(A,E,e){"use strict";var M=e(85589),v=e.n(M),l=e(85893);function o(O){var i=O.editorState,g=O.setEditorState,u=function(p){g(p)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(v(),{style:{border:"1px solid",borderColor:"rgba(0, 0, 0, 0.5)"},value:i,onChange:function(p){return u(p)}})})}E.Z=o},9321:function(A,E,e){"use strict";var M=e(9715),v=e(93766),l=e(43185),o=e(94412),O=e(34792),i=e(48086),g=e(2824),u=e(67294),h=e(7085),p=e(49101),s=e(17024),t=e(85893),n=function(a){var r=a.coverImage,P=a.setCoverImage,W=(0,u.useState)(!1),B=(0,g.Z)(W,2),L=B[0],Z=B[1],x=function(T){var D=T.type==="image/jpeg"||T.type==="image/png";D||i.default.error("You can only upload JPG/PNG file!");var V=T.size/1024/1024<2;return V||i.default.error("Image must smaller than 2MB!"),D&&V},y=function(T){if(T.file.status==="uploading"){Z(!0);return}T.file.status==="done"&&(P(T.file.response.data),Z(!1))},R=(0,t.jsxs)("div",{children:[L?(0,t.jsx)(h.Z,{}):(0,t.jsx)(p.Z,{}),(0,t.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,t.jsx)(v.Z.Item,{label:"\u56FE\u7247",children:(0,t.jsx)(o.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat("","/common/upload"),beforeUpload:x,onChange:y,children:r?(0,t.jsx)("img",{src:(0,s.up)(r),alt:"\u56FE\u7247",style:{maxWidth:"100%",maxHeight:"100%"}}):R})})};E.Z=n},32984:function(A,E,e){"use strict";e.r(E),e.d(E,{default:function(){return ge}});var M=e(34792),v=e(48086),l=e(49111),o=e(19650),O=e(62350),i=e(75443),g=e(57663),u=e(71577),h=e(11849),p=e(3182),s=e(9715),t=e(93766),n=e(2824),d=e(94043),a=e.n(d),r=e(67265),P=e(8212),W=e(73171),B=e(49101),L=e(952),Z=e(8890),x=e(5966),y=e(90672),R=e(64317),K=e(63434),T=e(35255),D=e(67294),V=e(85589),se=e.n(V),de=e(23080),G=e(21010),ue=function(){var b=(0,p.Z)(a().mark(function I(Y){var F;return a().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,G.WY)("/admin/doctors",{method:"get",params:{page:Y.current,name:Y.name}});case 2:return F=U.sent,U.abrupt("return",new Promise(function($){$({data:F.list,success:!0,total:F.total})}));case 4:case"end":return U.stop()}},I)}));return function(Y){return b.apply(this,arguments)}}(),le=function(I){return(0,G.WY)("/admin/doctors/".concat(I),{method:"GET"})},ie=function(I){return(0,G.WY)("/admin/doctors",{method:"POST",data:I})},me=function(I,Y){return(0,G.WY)("/admin/doctors/".concat(I),{method:"PATCH",data:Y})},ce=function(I){return(0,G.WY)("/admin/doctors/".concat(I),{method:"DELETE"})},_e=e(12480),pe=e(82193),fe=e(96747),ve=e(41254),Ee=e(9321),he=e(17024),c=e(85893);function Pe(){var b=(0,D.useState)(!1),I=(0,n.Z)(b,2),Y=I[0],F=I[1],Q=(0,D.useState)(""),U=(0,n.Z)(Q,2),$=U[0],N=U[1],Me=(0,D.useState)(""),X=(0,n.Z)(Me,2),w=X[0],k=X[1],z=(0,D.useRef)(),De=t.Z.useForm(),Ce=(0,n.Z)(De,1),J=Ce[0],Oe=(0,D.useState)({}),q=(0,n.Z)(Oe,2),ee=q[0],te=q[1],Te=(0,D.useState)([]),ae=(0,n.Z)(Te,2),Ie=ae[0],Se=ae[1],We=(0,D.useState)([]),ne=(0,n.Z)(We,2),Be=ne[0],Ze=ne[1],Ae=(0,D.useState)([]),re=(0,n.Z)(Ae,2),Le=re[0],Re=re[1],Fe=(0,D.useState)([]),oe=(0,n.Z)(Fe,2),Ue=oe[0],je=oe[1];(0,D.useEffect)(function(){(0,_e.e1)({pageSize:1e3,current:1}).then(function(C){var _={};C.data.forEach(function(m){_[m.id]=m.name}),_[0]="\u8BF7\u9009\u62E9",Se(_)}),(0,pe.e1)({pageSize:1e3,current:1}).then(function(C){var _={};C.data.forEach(function(m){_[m.id]=m.name}),_[0]="\u8BF7\u9009\u62E9",Ze(_)}),(0,fe.e1)({pageSize:1e3,current:1}).then(function(C){var _={};C.data.forEach(function(m){_[m.id]=m.name}),_[0]="\u8BF7\u9009\u62E9",Re(_)}),(0,ve.e1)({pageSize:1e3,current:1}).then(function(C){je(C.data.map(function(_){return _.name}))})},[]);var xe=[{title:"\u5E8F\u53F7",align:"center",hideInSearch:!0,render:function(_,m,f){return(0,c.jsx)(c.Fragment,{children:f+1})}},{title:"\u540D\u5B57",align:"center",dataIndex:"name"},{title:"\u4E3B\u56FE",align:"center",hideInSearch:!0,render:function(_,m){return(0,c.jsx)("img",{src:(0,he.up)(m.avatar),style:{width:"80px"}})}},{title:"\u7B80\u4ECB",align:"center",dataIndex:"desc",hideInSearch:!0,ellipsis:!0},{title:"\u533B\u9662",align:"center",dataIndex:"phone",hideInSearch:!0,render:function(_,m){var f;return(f=m.hospitalInfo)===null||f===void 0?void 0:f.name}},{title:"\u79D1\u5BA4",align:"center",dataIndex:"address",hideInSearch:!0,render:function(_,m){var f;return(f=m.departmentInfo)===null||f===void 0?void 0:f.name}},{title:"\u804C\u79F0",align:"center",dataIndex:"address",hideInSearch:!0,render:function(_,m){var f;return(f=m.doctorTitleInfo)===null||f===void 0?void 0:f.name}},{title:"\u7279\u957F",align:"center",dataIndex:"tags",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"center",hideInSearch:!0,render:function(_,m){return(0,c.jsxs)(o.Z,{children:[(0,c.jsx)(u.Z,{onClick:(0,p.Z)(a().mark(function f(){var j;return a().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,le(m.id);case 2:j=H.sent,te(se().createEditorState(j.content)),F(!0),N(j.avatar),k(j.id),J.setFieldsValue((0,h.Z)((0,h.Z)({},j),{},{tags:j.tags?j.tags.split(","):""}));case 8:case"end":return H.stop()}},f)})),type:"primary",size:"small",title:"\u7F16\u8F91",icon:(0,c.jsx)(P.Z,{})}),(0,c.jsx)(i.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",onConfirm:(0,p.Z)(a().mark(function f(){return a().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,ce(m.id);case 2:z.current&&z.current.reload();case 3:case"end":return S.stop()}},f)})),children:(0,c.jsx)(u.Z,{type:"primary",danger:!0,size:"small",title:"\u5220\u9664",icon:(0,c.jsx)(W.Z,{})})})]})}}];return(0,c.jsxs)(r.ZP,{children:[(0,c.jsx)(T.ZP,{headerTitle:"\u533B\u9662\u4FE1\u606F",actionRef:z,rowKey:"id",columns:xe,pagination:{showSizeChanger:!1,pageSize:10},request:ue,toolBarRender:function(){return[(0,c.jsxs)(u.Z,{type:"primary",onClick:function(){F(!0),k(""),N(""),J.setFieldsValue({name:"",desc:""})},children:[(0,c.jsx)(B.Z,{}),"\u65B0\u5EFA"]},"primary")]}}),(0,c.jsxs)(Z.Y,{title:"\u7F16\u8F91",width:"800px",initialValues:{name:"Tom"},form:J,visible:Y,onVisibleChange:F,onFinish:function(){var C=(0,p.Z)(a().mark(function _(m){var f;return a().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(f=(0,h.Z)((0,h.Z)({},m),{},{content:ee.toHTML(),tags:m.tags?m.tags.join(","):""}),$&&(f.avatar=$),w==""){S.next=9;break}return S.next=5,me(w,f);case 5:v.default.success("\u4FEE\u6539\u6210\u529F"),F(!1),S.next=13;break;case 9:return S.next=11,ie(f);case 11:v.default.success("\u65B0\u589E\u6210\u529F"),F(!1);case 13:z.current&&z.current.reload();case 14:case"end":return S.stop()}},_)}));return function(_){return C.apply(this,arguments)}}(),children:[(0,c.jsx)(x.Z,{label:"\u540D\u5B57",rules:[{required:!0,message:"\u5206\u7C7B\u540D\u5B57\u5FC5\u586B"}],placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u5B57",width:"md",name:"name"}),(0,c.jsx)(y.Z,{label:"\u7B80\u4ECB",placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",width:"md",name:"desc"}),(0,c.jsx)(Ee.Z,{coverImage:$,setCoverImage:N}),(0,c.jsx)(R.Z,{placeholder:"\u8BF7\u9009\u62E9\u5546\u54C1\u5206\u7C7B",name:"hospitalId",label:"\u533B\u9662",valueEnum:Ie}),(0,c.jsx)(R.Z,{placeholder:"\u8BF7\u9009\u62E9\u79D1\u5BA4\u5206\u7C7B",name:"departmentId",label:"\u79D1\u5BA4",valueEnum:Be}),(0,c.jsx)(R.Z,{placeholder:"\u8BF7\u9009\u62E9\u79D1\u5BA4\u5206\u7C7B",name:"doctorTitleId",label:"\u804C\u79F0",valueEnum:Le}),(0,c.jsx)(K.Z.Group,{label:"\u7279\u957F",name:"tags",options:Ue}),(0,c.jsx)(L.ZP.Item,{label:"\u8BE6\u60C5",children:(0,c.jsx)(de.Z,{editorState:ee,setEditorState:te})})]})]})}var ge=Pe},82193:function(A,E,e){"use strict";e.d(E,{e1:function(){return i},Sf:function(){return g},mS:function(){return u},Ec:function(){return h},Fv:function(){return p}});var M=e(3182),v=e(94043),l=e.n(v),o=e(21010);function O(){return request("/admin/departments?per=100")}var i=function(){var s=(0,M.Z)(l().mark(function t(n){var d;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.WY)("/admin/departments",{method:"get",params:{page:n.current,name:n.name}});case 2:return d=r.sent,console.log(d),r.abrupt("return",new Promise(function(P){P({data:d.list,success:!0,total:d.total})}));case 5:case"end":return r.stop()}},t)}));return function(n){return s.apply(this,arguments)}}(),g=function(t){return(0,o.WY)("/admin/departments/".concat(t),{method:"GET"})},u=function(t){return(0,o.WY)("/admin/departments",{method:"POST",data:t})},h=function(t,n){return(0,o.WY)("/admin/departments/".concat(t),{method:"PATCH",data:n})},p=function(t){return(0,o.WY)("/admin/departments/".concat(t),{method:"DELETE"})}},41254:function(A,E,e){"use strict";e.d(E,{e1:function(){return i},Sf:function(){return g},mS:function(){return u},Ec:function(){return h},Fv:function(){return p}});var M=e(3182),v=e(94043),l=e.n(v),o=e(21010);function O(){return request("/admin/doctor_tags?per=100")}var i=function(){var s=(0,M.Z)(l().mark(function t(n){var d;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.WY)("/admin/doctor_tags",{method:"get",params:{page:n.current,name:n.name}});case 2:return d=r.sent,console.log(d),r.abrupt("return",new Promise(function(P){P({data:d.list,success:!0,total:d.total})}));case 5:case"end":return r.stop()}},t)}));return function(n){return s.apply(this,arguments)}}(),g=function(t){return(0,o.WY)("/admin/doctor_tags/".concat(t),{method:"GET"})},u=function(t){return(0,o.WY)("/admin/doctor_tags",{method:"POST",data:t})},h=function(t,n){return(0,o.WY)("/admin/doctor_tags/".concat(t),{method:"PATCH",data:n})},p=function(t){return(0,o.WY)("/admin/doctor_tags/".concat(t),{method:"DELETE"})}},96747:function(A,E,e){"use strict";e.d(E,{e1:function(){return i},Sf:function(){return g},mS:function(){return u},Ec:function(){return h},Fv:function(){return p}});var M=e(3182),v=e(94043),l=e.n(v),o=e(21010);function O(){return request("/admin/doctor_titles?per=100")}var i=function(){var s=(0,M.Z)(l().mark(function t(n){var d;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.WY)("/admin/doctor_titles",{method:"get",params:{page:n.current,name:n.name}});case 2:return d=r.sent,console.log(d),r.abrupt("return",new Promise(function(P){P({data:d.list,success:!0,total:d.total})}));case 5:case"end":return r.stop()}},t)}));return function(n){return s.apply(this,arguments)}}(),g=function(t){return(0,o.WY)("/admin/doctor_titles/".concat(t),{method:"GET"})},u=function(t){return(0,o.WY)("/admin/doctor_titles",{method:"POST",data:t})},h=function(t,n){return(0,o.WY)("/admin/doctor_titles/".concat(t),{method:"PATCH",data:n})},p=function(t){return(0,o.WY)("/admin/doctor_titles/".concat(t),{method:"DELETE"})}},12480:function(A,E,e){"use strict";e.d(E,{e1:function(){return i},Sf:function(){return g},mS:function(){return u},Ec:function(){return h},Fv:function(){return p}});var M=e(3182),v=e(94043),l=e.n(v),o=e(21010);function O(){return request("/admin/hospitals?per=100")}var i=function(){var s=(0,M.Z)(l().mark(function t(n){var d;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.WY)("/admin/hospitals",{method:"get",params:{page:n.current,name:n.name,per:n.pageSize}});case 2:return d=r.sent,console.log(d),r.abrupt("return",new Promise(function(P){P({data:d.list,success:!0,total:d.total})}));case 5:case"end":return r.stop()}},t)}));return function(n){return s.apply(this,arguments)}}(),g=function(t){return(0,o.WY)("/admin/hospitals/".concat(t),{method:"GET"})},u=function(t){return(0,o.WY)("/admin/hospitals",{method:"POST",data:t})},h=function(t,n){return(0,o.WY)("/admin/hospitals/".concat(t),{method:"PATCH",data:n})},p=function(t){return(0,o.WY)("/admin/hospitals/".concat(t),{method:"DELETE"})}},17024:function(A,E,e){"use strict";e.d(E,{up:function(){return i}});var M=e(30381),v=e.n(M);function l(u){sessionStorage.setItem("token",u)}function o(){return sessionStorage.getItem("token")}function O(){sessionStorage.removeItem("token")}function i(u){return u?u.startsWith("http")?u:"".concat("").concat(u):"".concat("","/avatar.jpeg")}function g(u){return moment(u).format("YYYY-MM-DD HH:mm:ss")}}}]);
