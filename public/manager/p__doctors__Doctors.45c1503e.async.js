(self.webpackChunkhdf_app_manager=self.webpackChunkhdf_app_manager||[]).push([[765],{63434:function(j,P,e){"use strict";var C=e(63185),f=e(9676),l=e(22122),o=e(28991),O=e(81253),c=e(67294),g=e(10244),E=e(22270),v=e(64893),_=["options","fieldProps","proFieldProps","valueEnum"],s=c.forwardRef(function(a,n){var h=a.options,W=a.fieldProps,B=a.proFieldProps,A=a.valueEnum,Z=(0,O.Z)(a,_);return c.createElement(g.Z,(0,l.Z)({ref:n,valueType:"checkbox",mode:"edit",valueEnum:(0,E.h)(A,void 0),fieldProps:(0,o.Z)({options:h},W),proFieldProps:B},Z))}),t=c.forwardRef(function(a,n){var h=a.fieldProps,W=a.children;return c.createElement(f.Z,(0,l.Z)({ref:n},h),W)}),r=(0,v.G)(t,{valuePropName:"checked"}),d=r;d.Group=s,P.Z=d},64317:function(j,P,e){"use strict";var C=e(22122),f=e(28991),l=e(81253),o=e(67294),O=e(10244),c=e(22270),g=e(66758),E=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],_=o.forwardRef(function(a,n){var h=a.fieldProps,W=a.children,B=a.params,A=a.proFieldProps,Z=a.mode,x=a.valueEnum,y=a.request,L=a.showSearch,K=a.options,T=(0,l.Z)(a,E),M=(0,o.useContext)(g.Z);return o.createElement(O.Z,(0,C.Z)({mode:"edit",valueEnum:(0,c.h)(x),request:y,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,f.Z)({options:K,mode:Z,showSearch:L,getPopupContainer:M.getPopupContainer},h),ref:n,proFieldProps:A},T),W)}),s=o.forwardRef(function(a,n){var h=a.fieldProps,W=a.children,B=a.params,A=a.proFieldProps,Z=a.mode,x=a.valueEnum,y=a.request,L=a.options,K=(0,l.Z)(a,v),T=(0,f.Z)({options:L,mode:Z||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},h),M=(0,o.useContext)(g.Z);return o.createElement(O.Z,(0,C.Z)({mode:"edit",valueEnum:(0,c.h)(x),request:y,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,f.Z)({getPopupContainer:M.getPopupContainer},T),ref:n,proFieldProps:A},K),W)}),t=_,r=s,d=t;d.SearchSelect=r,d.displayName="ProFormComponent",P.Z=d},23080:function(j,P,e){"use strict";var C=e(85589),f=e.n(C),l=e(85893);function o(O){var c=O.editorState,g=O.setEditorState,E=function(_){g(_)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(f(),{style:{border:"1px solid",borderColor:"rgba(0, 0, 0, 0.5)"},value:c,onChange:function(_){return E(_)}})})}P.Z=o},9321:function(j,P,e){"use strict";var C=e(9715),f=e(93766),l=e(43185),o=e(94412),O=e(34792),c=e(48086),g=e(2824),E=e(67294),v=e(7085),_=e(49101),s=e(17024),t=e(85893),r=function(a){var n=a.coverImage,h=a.setCoverImage,W=(0,E.useState)(!1),B=(0,g.Z)(W,2),A=B[0],Z=B[1],x=function(T){var M=T.type==="image/jpeg"||T.type==="image/png";M||c.default.error("You can only upload JPG/PNG file!");var V=T.size/1024/1024<2;return V||c.default.error("Image must smaller than 2MB!"),M&&V},y=function(T){if(T.file.status==="uploading"){Z(!0);return}T.file.status==="done"&&(h(T.file.response.data),Z(!1))},L=(0,t.jsxs)("div",{children:[A?(0,t.jsx)(v.Z,{}):(0,t.jsx)(_.Z,{}),(0,t.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,t.jsx)(f.Z.Item,{label:"\u56FE\u7247",children:(0,t.jsx)(o.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat("","/common/upload"),beforeUpload:x,onChange:y,children:n?(0,t.jsx)("img",{src:(0,s.up)(n),alt:"\u56FE\u7247",style:{maxWidth:"100%",maxHeight:"100%"}}):L})})};P.Z=r},32984:function(j,P,e){"use strict";e.r(P),e.d(P,{default:function(){return ge}});var C=e(34792),f=e(48086),l=e(49111),o=e(19650),O=e(62350),c=e(75443),g=e(57663),E=e(71577),v=e(11849),_=e(3182),s=e(9715),t=e(93766),r=e(2824),d=e(94043),a=e.n(d),n=e(67265),h=e(8212),W=e(73171),B=e(49101),A=e(952),Z=e(8890),x=e(5966),y=e(90672),L=e(64317),K=e(63434),T=e(35255),M=e(67294),V=e(85589),se=e.n(V),de=e(23080),G=e(21010),ue=function(){var b=(0,_.Z)(a().mark(function I(Y){var F;return a().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,G.WY)("/admin/doctors",{method:"get",params:{page:Y.current,name:Y.name}});case 2:return F=R.sent,R.abrupt("return",new Promise(function($){$({data:F.list,success:!0,total:F.total})}));case 4:case"end":return R.stop()}},I)}));return function(Y){return b.apply(this,arguments)}}(),le=function(I){return(0,G.WY)("/admin/doctors/".concat(I),{method:"GET"})},ie=function(I){return(0,G.WY)("/admin/doctors",{method:"POST",data:I})},me=function(I,Y){return(0,G.WY)("/admin/doctors/".concat(I),{method:"PATCH",data:Y})},ce=function(I){return(0,G.WY)("/admin/doctors/".concat(I),{method:"DELETE"})},_e=e(12480),pe=e(82193),fe=e(96747),ve=e(41254),Ee=e(9321),he=e(17024),i=e(85893);function Pe(){var b=(0,M.useState)(!1),I=(0,r.Z)(b,2),Y=I[0],F=I[1],Q=(0,M.useState)(""),R=(0,r.Z)(Q,2),$=R[0],N=R[1],Me=(0,M.useState)(""),X=(0,r.Z)(Me,2),w=X[0],k=X[1],z=(0,M.useRef)(),De=t.Z.useForm(),Ce=(0,r.Z)(De,1),J=Ce[0],Oe=(0,M.useState)({}),q=(0,r.Z)(Oe,2),ee=q[0],te=q[1],Te=(0,M.useState)([]),ae=(0,r.Z)(Te,2),Ie=ae[0],Se=ae[1],We=(0,M.useState)([]),re=(0,r.Z)(We,2),Be=re[0],Ze=re[1],Ae=(0,M.useState)([]),ne=(0,r.Z)(Ae,2),Le=ne[0],Fe=ne[1],Re=(0,M.useState)([]),oe=(0,r.Z)(Re,2),Ue=oe[0],je=oe[1];(0,M.useEffect)(function(){(0,_e.e1)({pageSize:1e3,current:1}).then(function(D){var m={};D.data.forEach(function(u){m[u.id]=u.name}),m[0]="\u8BF7\u9009\u62E9",Se(m)}),(0,pe.e1)({pageSize:1e3,current:1}).then(function(D){var m={};D.data.forEach(function(u){m[u.id]=u.name}),m[0]="\u8BF7\u9009\u62E9",Ze(m)}),(0,fe.e1)({pageSize:1e3,current:1}).then(function(D){var m={};D.data.forEach(function(u){m[u.id]=u.name}),m[0]="\u8BF7\u9009\u62E9",Fe(m)}),(0,ve.e1)({pageSize:1e3,current:1}).then(function(D){je(D.data.map(function(m){return m.name}))})},[]);var xe=[{title:"\u5E8F\u53F7",align:"center",hideInSearch:!0,render:function(m,u,p){return(0,i.jsx)(i.Fragment,{children:p+1})}},{title:"\u540D\u5B57",align:"center",dataIndex:"name"},{title:"\u4E3B\u56FE",align:"center",hideInSearch:!0,render:function(m,u){return(0,i.jsx)("img",{src:(0,he.up)(u.avatar),style:{width:"80px"}})}},{title:"\u7B80\u4ECB",align:"center",dataIndex:"desc",hideInSearch:!0,ellipsis:!0},{title:"\u533B\u9662",align:"center",dataIndex:"phone",hideInSearch:!0,render:function(m,u){var p;return(p=u.hospitalInfo)===null||p===void 0?void 0:p.name}},{title:"\u79D1\u5BA4",align:"center",dataIndex:"address",hideInSearch:!0,render:function(m,u){var p;return(p=u.departmentInfo)===null||p===void 0?void 0:p.name}},{title:"\u804C\u79F0",align:"center",dataIndex:"address",hideInSearch:!0,render:function(m,u){var p;return(p=u.doctorTitleInfo)===null||p===void 0?void 0:p.name}},{title:"\u7279\u957F",align:"center",dataIndex:"tags",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"center",hideInSearch:!0,render:function(m,u){return(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(E.Z,{onClick:(0,_.Z)(a().mark(function p(){var U;return a().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,le(u.id);case 2:U=H.sent,te(se().createEditorState(U.content)),F(!0),N(U.avatar),k(U.id),J.setFieldsValue((0,v.Z)((0,v.Z)({},U),{},{tags:U.tags?U.tags.split(","):""}));case 8:case"end":return H.stop()}},p)})),type:"primary",size:"small",title:"\u7F16\u8F91",icon:(0,i.jsx)(h.Z,{})}),(0,i.jsx)(c.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",onConfirm:(0,_.Z)(a().mark(function p(){return a().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,ce(u.id);case 2:z.current&&z.current.reload();case 3:case"end":return S.stop()}},p)})),children:(0,i.jsx)(E.Z,{type:"primary",danger:!0,size:"small",title:"\u5220\u9664",icon:(0,i.jsx)(W.Z,{})})})]})}}];return(0,i.jsxs)(n.ZP,{children:[(0,i.jsx)(T.ZP,{headerTitle:"\u533B\u9662\u4FE1\u606F",actionRef:z,rowKey:"id",columns:xe,pagination:{showSizeChanger:!1,pageSize:10},request:ue,toolBarRender:function(){return[(0,i.jsxs)(E.Z,{type:"primary",onClick:function(){F(!0),k(""),N(""),J.setFieldsValue({name:"",desc:""})},children:[(0,i.jsx)(B.Z,{}),"\u65B0\u5EFA"]},"primary")]}}),(0,i.jsxs)(Z.Y,{title:"\u7F16\u8F91",width:"800px",initialValues:{name:"Tom"},form:J,visible:Y,onVisibleChange:F,onFinish:function(){var D=(0,_.Z)(a().mark(function m(u){var p;return a().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(p=(0,v.Z)((0,v.Z)({},u),{},{content:ee.toHTML(),tags:u.tags?u.tags.join(","):""}),$&&(p.avatar=$),w==""){S.next=9;break}return S.next=5,me(w,p);case 5:f.default.success("\u4FEE\u6539\u6210\u529F"),F(!1),S.next=13;break;case 9:return S.next=11,ie(p);case 11:f.default.success("\u65B0\u589E\u6210\u529F"),F(!1);case 13:z.current&&z.current.reload();case 14:case"end":return S.stop()}},m)}));return function(m){return D.apply(this,arguments)}}(),children:[(0,i.jsx)(x.Z,{label:"\u540D\u5B57",rules:[{required:!0,message:"\u5206\u7C7B\u540D\u5B57\u5FC5\u586B"}],placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u5B57",width:"md",name:"name"}),(0,i.jsx)(y.Z,{label:"\u7B80\u4ECB",placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",width:"md",name:"desc"}),(0,i.jsx)(Ee.Z,{coverImage:$,setCoverImage:N}),(0,i.jsx)(L.Z,{placeholder:"\u8BF7\u9009\u62E9\u5546\u54C1\u5206\u7C7B",name:"hospitalId",label:"\u533B\u9662",valueEnum:Ie}),(0,i.jsx)(L.Z,{placeholder:"\u8BF7\u9009\u62E9\u79D1\u5BA4\u5206\u7C7B",name:"departmentId",label:"\u79D1\u5BA4",valueEnum:Be}),(0,i.jsx)(L.Z,{placeholder:"\u8BF7\u9009\u62E9\u79D1\u5BA4\u5206\u7C7B",name:"doctorTitleId",label:"\u804C\u79F0",valueEnum:Le}),(0,i.jsx)(K.Z.Group,{label:"\u7279\u957F",name:"tags",options:Ue}),(0,i.jsx)(A.ZP.Item,{label:"\u8BE6\u60C5",children:(0,i.jsx)(de.Z,{editorState:ee,setEditorState:te})})]})]})}var ge=Pe},82193:function(j,P,e){"use strict";e.d(P,{e1:function(){return c},Sf:function(){return g},mS:function(){return E},Ec:function(){return v},Fv:function(){return _}});var C=e(3182),f=e(94043),l=e.n(f),o=e(21010);function O(){return request("/admin/departments?per=100")}var c=function(){var s=(0,C.Z)(l().mark(function t(r){var d;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.WY)("/admin/departments",{method:"get",params:{page:r.current,name:r.name}});case 2:return d=n.sent,console.log(d),n.abrupt("return",new Promise(function(h){h({data:d.list,success:!0,total:d.total})}));case 5:case"end":return n.stop()}},t)}));return function(r){return s.apply(this,arguments)}}(),g=function(t){return(0,o.WY)("/admin/departments/".concat(t),{method:"GET"})},E=function(t){return(0,o.WY)("/admin/departments",{method:"POST",data:t})},v=function(t,r){return(0,o.WY)("/admin/departments/".concat(t),{method:"PATCH",data:r})},_=function(t){return(0,o.WY)("/admin/departments/".concat(t),{method:"DELETE"})}},41254:function(j,P,e){"use strict";e.d(P,{e1:function(){return c},Sf:function(){return g},mS:function(){return E},Ec:function(){return v},Fv:function(){return _}});var C=e(3182),f=e(94043),l=e.n(f),o=e(21010);function O(){return request("/admin/doctor_tags?per=100")}var c=function(){var s=(0,C.Z)(l().mark(function t(r){var d;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.WY)("/admin/doctor_tags",{method:"get",params:{page:r.current,name:r.name}});case 2:return d=n.sent,console.log(d),n.abrupt("return",new Promise(function(h){h({data:d.list,success:!0,total:d.total})}));case 5:case"end":return n.stop()}},t)}));return function(r){return s.apply(this,arguments)}}(),g=function(t){return(0,o.WY)("/admin/doctor_tags/".concat(t),{method:"GET"})},E=function(t){return(0,o.WY)("/admin/doctor_tags",{method:"POST",data:t})},v=function(t,r){return(0,o.WY)("/admin/doctor_tags/".concat(t),{method:"PATCH",data:r})},_=function(t){return(0,o.WY)("/admin/doctor_tags/".concat(t),{method:"DELETE"})}},96747:function(j,P,e){"use strict";e.d(P,{e1:function(){return c},Sf:function(){return g},mS:function(){return E},Ec:function(){return v},Fv:function(){return _}});var C=e(3182),f=e(94043),l=e.n(f),o=e(21010);function O(){return request("/admin/doctor_titles?per=100")}var c=function(){var s=(0,C.Z)(l().mark(function t(r){var d;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.WY)("/admin/doctor_titles",{method:"get",params:{page:r.current,name:r.name}});case 2:return d=n.sent,console.log(d),n.abrupt("return",new Promise(function(h){h({data:d.list,success:!0,total:d.total})}));case 5:case"end":return n.stop()}},t)}));return function(r){return s.apply(this,arguments)}}(),g=function(t){return(0,o.WY)("/admin/doctor_titles/".concat(t),{method:"GET"})},E=function(t){return(0,o.WY)("/admin/doctor_titles",{method:"POST",data:t})},v=function(t,r){return(0,o.WY)("/admin/doctor_titles/".concat(t),{method:"PATCH",data:r})},_=function(t){return(0,o.WY)("/admin/doctor_titles/".concat(t),{method:"DELETE"})}},12480:function(j,P,e){"use strict";e.d(P,{e1:function(){return c},Sf:function(){return g},mS:function(){return E},Ec:function(){return v},Fv:function(){return _}});var C=e(3182),f=e(94043),l=e.n(f),o=e(21010);function O(){return request("/admin/hospitals?per=100")}var c=function(){var s=(0,C.Z)(l().mark(function t(r){var d;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.WY)("/admin/hospitals",{method:"get",params:{page:r.current,name:r.name,per:r.pageSize}});case 2:return d=n.sent,console.log(d),n.abrupt("return",new Promise(function(h){h({data:d.list,success:!0,total:d.total})}));case 5:case"end":return n.stop()}},t)}));return function(r){return s.apply(this,arguments)}}(),g=function(t){return(0,o.WY)("/admin/hospitals/".concat(t),{method:"GET"})},E=function(t){return(0,o.WY)("/admin/hospitals",{method:"POST",data:t})},v=function(t,r){return(0,o.WY)("/admin/hospitals/".concat(t),{method:"PATCH",data:r})},_=function(t){return(0,o.WY)("/admin/hospitals/".concat(t),{method:"DELETE"})}}}]);
