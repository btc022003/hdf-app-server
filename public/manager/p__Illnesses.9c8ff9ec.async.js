(self.webpackChunkhdf_app_manager=self.webpackChunkhdf_app_manager||[]).push([[434],{64317:function(j,M,e){"use strict";var D=e(22122),c=e(28991),d=e(81253),r=e(67294),h=e(10244),P=e(22270),O=e(66758),f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],E=r.forwardRef(function(a,_){var g=a.fieldProps,L=a.children,I=a.params,A=a.proFieldProps,T=a.mode,R=a.valueEnum,U=a.request,K=a.showSearch,S=a.options,o=(0,d.Z)(a,f),B=(0,r.useContext)(O.Z);return r.createElement(h.Z,(0,D.Z)({mode:"edit",valueEnum:(0,P.h)(R),request:U,params:I,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({options:S,mode:T,showSearch:K,getPopupContainer:B.getPopupContainer},g),ref:_,proFieldProps:A},o),L)}),l=r.forwardRef(function(a,_){var g=a.fieldProps,L=a.children,I=a.params,A=a.proFieldProps,T=a.mode,R=a.valueEnum,U=a.request,K=a.options,S=(0,d.Z)(a,m),o=(0,c.Z)({options:K,mode:T||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},g),B=(0,r.useContext)(O.Z);return r.createElement(h.Z,(0,D.Z)({mode:"edit",valueEnum:(0,P.h)(R),request:U,params:I,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({getPopupContainer:B.getPopupContainer},o),ref:_,proFieldProps:A},S),L)}),t=E,n=l,u=t;u.SearchSelect=n,u.displayName="ProFormComponent",M.Z=u},23080:function(j,M,e){"use strict";var D=e(85589),c=e.n(D),d=e(85893);function r(h){var P=h.editorState,O=h.setEditorState,f=function(E){O(E)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c(),{style:{border:"1px solid",borderColor:"rgba(0, 0, 0, 0.5)"},value:P,onChange:function(E){return f(E)}})})}M.Z=r},9321:function(j,M,e){"use strict";var D=e(9715),c=e(93766),d=e(43185),r=e(94412),h=e(34792),P=e(48086),O=e(2824),f=e(67294),m=e(7085),E=e(49101),l=e(17024),t=e(85893),n=function(a){var _=a.coverImage,g=a.setCoverImage,L=(0,f.useState)(!1),I=(0,O.Z)(L,2),A=I[0],T=I[1],R=function(o){var B=o.type==="image/jpeg"||o.type==="image/png";B||P.default.error("You can only upload JPG/PNG file!");var y=o.size/1024/1024<2;return y||P.default.error("Image must smaller than 2MB!"),B&&y},U=function(o){if(o.file.status==="uploading"){T(!0);return}o.file.status==="done"&&(g(o.file.response.data),T(!1))},K=(0,t.jsxs)("div",{children:[A?(0,t.jsx)(m.Z,{}):(0,t.jsx)(E.Z,{}),(0,t.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,t.jsx)(c.Z.Item,{label:"\u56FE\u7247",children:(0,t.jsx)(r.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat("","/common/upload"),beforeUpload:R,onChange:U,children:_?(0,t.jsx)("img",{src:(0,l.up)(_),alt:"\u56FE\u7247",style:{maxWidth:"100%",maxHeight:"100%"}}):K})})};M.Z=n},32708:function(j,M,e){"use strict";e.r(M);var D=e(34792),c=e(48086),d=e(49111),r=e(19650),h=e(62350),P=e(75443),O=e(57663),f=e(71577),m=e(11849),E=e(3182),l=e(9715),t=e(93766),n=e(2824),u=e(94043),a=e.n(u),_=e(67265),g=e(8212),L=e(73171),I=e(49101),A=e(8890),T=e(5966),R=e(64317),U=e(90672),K=e(952),S=e(35255),o=e(67294),B=e(85589),y=e.n(B),ae=e(23080),x=e(92264),te=e(58794),re=e(9321),ne=e(17024),s=e(85893);function _e(){var se=(0,o.useState)(!1),H=(0,n.Z)(se,2),oe=H[0],F=H[1],le=(0,o.useState)(""),J=(0,n.Z)(le,2),$=J[0],V=J[1],de=(0,o.useState)(""),N=(0,n.Z)(de,2),Q=N[0],X=N[1],b=(0,o.useRef)(),ue=t.Z.useForm(),ie=(0,n.Z)(ue,1),G=ie[0],me=(0,o.useState)({}),w=(0,n.Z)(me,2),k=w[0],Ee=w[1],ce=(0,o.useState)({}),q=(0,n.Z)(ce,2),ee=q[0],z=q[1];(0,o.useEffect)(function(){(0,te.Lp)().then(function(W){var C={};C[0]={text:"\u5168\u90E8"},W.list.forEach(function(v){C[v.id]={text:v.name}}),Ee(C)})},[]);var pe=[{title:"\u5E8F\u53F7",align:"center",hideInSearch:!0,render:function(C,v,p){return(0,s.jsx)(s.Fragment,{children:p+1})}},{title:"\u540D\u5B57",align:"center",dataIndex:"name"},{title:"\u4E3B\u56FE",align:"center",hideInSearch:!0,render:function(C,v){return(0,s.jsx)("img",{src:(0,ne.up)(v.image),style:{width:"80px"}})}},{title:"\u6D4F\u89C8\u6B21\u6570",align:"center",hideInSearch:!0,dataIndex:"views"},{title:"\u5206\u7C7B",align:"center",dataIndex:"category",render:function(C,v){var p;return(0,s.jsx)("p",{children:(p=v.illnessCategory)===null||p===void 0?void 0:p.name})},filters:!0,onFilter:!0,valueType:"select",valueEnum:k},{title:"\u63CF\u8FF0",align:"center",dataIndex:"desc",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"center",hideInSearch:!0,render:function(C,v){return(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(f.Z,{onClick:(0,E.Z)(a().mark(function p(){var Z,i;return a().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(0,x.Sf)(v.id);case 2:Z=Y.sent,F(!0),V(Z.image),z(y().createEditorState(Z.content)),X(Z.id),i=(0,m.Z)({},Z),delete i.illnessCategory,G.setFieldsValue((0,m.Z)((0,m.Z)({},i),{},{category:"".concat(v.illnessCategoryId)}));case 10:case"end":return Y.stop()}},p)})),type:"primary",size:"small",title:"\u7F16\u8F91",icon:(0,s.jsx)(g.Z,{})}),(0,s.jsx)(P.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",onConfirm:(0,E.Z)(a().mark(function p(){return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,x.Fv)(v.id);case 2:b.current&&b.current.reload();case 3:case"end":return i.stop()}},p)})),children:(0,s.jsx)(f.Z,{type:"primary",danger:!0,size:"small",title:"\u5220\u9664",icon:(0,s.jsx)(L.Z,{})})})]})}}];return(0,s.jsxs)(_.ZP,{children:[(0,s.jsx)(S.ZP,{headerTitle:"\u8D44\u8BAF",actionRef:b,rowKey:"id",columns:pe,pagination:{showSizeChanger:!1,pageSize:10},request:x.e1,toolBarRender:function(){return[(0,s.jsxs)(f.Z,{type:"primary",onClick:function(){F(!0),z(y().createEditorState("")),X(""),V(""),G.setFieldsValue({name:"",desc:""})},children:[(0,s.jsx)(I.Z,{}),"\u65B0\u5EFA"]},"primary")]}}),(0,s.jsxs)(A.Y,{title:"\u7F16\u8F91",width:"800px",initialValues:{name:"Tom"},form:G,visible:oe,onVisibleChange:F,onFinish:function(){var W=(0,E.Z)(a().mark(function C(v){var p;return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(p=(0,m.Z)((0,m.Z)({},v),{},{content:ee.toHTML()}),$&&(p.image=$),Q==""){i.next=9;break}return i.next=5,(0,x.Ec)(Q,p);case 5:c.default.success("\u4FEE\u6539\u6210\u529F"),F(!1),i.next=13;break;case 9:return i.next=11,(0,x.mS)(p);case 11:c.default.success("\u65B0\u589E\u6210\u529F"),F(!1);case 13:b.current&&b.current.reload();case 14:case"end":return i.stop()}},C)}));return function(C){return W.apply(this,arguments)}}(),children:[(0,s.jsx)(T.Z,{label:"\u540D\u5B57",rules:[{required:!0,message:"\u5206\u7C7B\u540D\u5B57\u5FC5\u586B"}],placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u5B57",width:"md",name:"name"}),(0,s.jsx)(R.Z,{name:"illnessCategoryId",label:"\u5206\u7C7B",valueEnum:k,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5546\u54C1\u5206\u7C7B"}]}),(0,s.jsx)(U.Z,{label:"\u7B80\u4ECB",placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",width:"md",name:"desc"}),(0,s.jsx)(re.Z,{coverImage:$,setCoverImage:V}),(0,s.jsx)(K.ZP.Item,{label:"\u8BE6\u60C5",children:(0,s.jsx)(ae.Z,{editorState:ee,setEditorState:z})})]})]})}M.default=_e},58794:function(j,M,e){"use strict";e.d(M,{Lp:function(){return h},e1:function(){return P},Sf:function(){return O},mS:function(){return f},Ec:function(){return m},Fv:function(){return E}});var D=e(3182),c=e(94043),d=e.n(c),r=e(21010);function h(){return(0,r.WY)("/admin/illness_categories?per=100")}var P=function(){var l=(0,D.Z)(d().mark(function t(n){var u;return d().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,r.WY)("/admin/Illness_categories",{method:"get",params:{page:n.current,name:n.name}});case 2:return u=_.sent,console.log(u),_.abrupt("return",new Promise(function(g){g({data:u.list,success:!0,total:u.total})}));case 5:case"end":return _.stop()}},t)}));return function(n){return l.apply(this,arguments)}}(),O=function(t){return(0,r.WY)("/admin/Illness_categories/".concat(t),{method:"GET"})},f=function(t){return(0,r.WY)("/admin/Illness_categories",{method:"POST",data:t})},m=function(t,n){return(0,r.WY)("/admin/Illness_categories/".concat(t),{method:"PATCH",data:n})},E=function(t){return(0,r.WY)("/admin/Illness_categories/".concat(t),{method:"DELETE"})}},92264:function(j,M,e){"use strict";e.d(M,{e1:function(){return h},Jd:function(){return P},Sf:function(){return O},mS:function(){return f},Ec:function(){return m},Fv:function(){return E}});var D=e(3182),c=e(94043),d=e.n(c),r=e(21010),h=function(){var l=(0,D.Z)(d().mark(function t(n){var u;return d().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,r.WY)("/admin/illnesses",{method:"get",params:{page:n.current,name:n.name}});case 2:return u=_.sent,_.abrupt("return",new Promise(function(g){g({data:u.list,success:!0,total:u.total})}));case 4:case"end":return _.stop()}},t)}));return function(n){return l.apply(this,arguments)}}(),P=function(){var l=(0,D.Z)(d().mark(function t(){var n;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,r.WY)("/admin/illnesses",{method:"get",params:{per:100}});case 2:return n=a.sent,a.abrupt("return",n.list);case 4:case"end":return a.stop()}},t)}));return function(){return l.apply(this,arguments)}}(),O=function(t){return(0,r.WY)("/admin/illnesses/".concat(t),{method:"GET"})},f=function(t){return(0,r.WY)("/admin/illnesses",{method:"POST",data:t})},m=function(t,n){return(0,r.WY)("/admin/illnesses/".concat(t),{method:"PATCH",data:n})},E=function(t){return(0,r.WY)("/admin/illnesses/".concat(t),{method:"DELETE"})}}}]);
