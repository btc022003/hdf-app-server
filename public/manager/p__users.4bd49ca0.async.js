(self.webpackChunkhdf_app_manager=self.webpackChunkhdf_app_manager||[]).push([[962],{82399:function(E,i,e){"use strict";e.r(i),e.d(i,{default:function(){return R}});var v=e(49111),h=e(19650),I=e(62350),g=e(75443),T=e(57663),m=e(71577),f=e(3182),t=e(94043),l=e.n(t),y=e(67265),j=e(73171),D=e(35255),P=e(67294),M=e(21010),S=function(){var o=(0,f.Z)(l().mark(function n(s){var u;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,M.WY)("/admin/users",{method:"get",params:{page:s.current,userName:s.userName}});case 2:return u=r.sent,console.log(u),r.abrupt("return",new Promise(function(p){p({data:u.list,success:!0,total:u.total})}));case 5:case"end":return r.stop()}},n)}));return function(s){return o.apply(this,arguments)}}(),O=function(n){return request("/admin/users/".concat(n),{method:"GET"})},Y=function(n){return request("/admin/users",{method:"POST",data:n})},B=function(n,s){return request("/admin/users/".concat(n),{method:"PATCH",data:s})},x=function(n){return(0,M.WY)("/admin/users/".concat(n),{method:"DELETE"})},C=e(17024),a=e(85893);function Z(){var o=(0,P.useRef)(),n=[{title:"\u5E8F\u53F7",align:"center",hideInSearch:!0,render:function(u,d,r){return(0,a.jsx)(a.Fragment,{children:r+1})}},{title:"\u7528\u6237\u540D",align:"center",dataIndex:"userName"},{title:"\u5934\u50CF",align:"center",hideInSearch:!0,render:function(u,d){return(0,a.jsx)("img",{src:(0,C.up)(d.avatar),style:{width:"80px"}})}},{title:"\u6635\u79F0",align:"center",dataIndex:"desc",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"center",hideInSearch:!0,render:function(u,d){return(0,a.jsx)(h.Z,{children:(0,a.jsx)(g.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",onConfirm:(0,f.Z)(l().mark(function r(){return l().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,x(d.id);case 2:o.current&&o.current.reload();case 3:case"end":return c.stop()}},r)})),children:(0,a.jsx)(m.Z,{type:"primary",danger:!0,size:"small",title:"\u5220\u9664",icon:(0,a.jsx)(j.Z,{})})})})}}];return(0,a.jsx)(y.ZP,{children:(0,a.jsx)(D.ZP,{headerTitle:"\u7528\u6237\u4FE1\u606F",actionRef:o,rowKey:"id",columns:n,pagination:{showSizeChanger:!1,pageSize:10},request:S,toolBarRender:function(){return[]}})})}var R=Z},17024:function(E,i,e){"use strict";e.d(i,{up:function(){return m}});var v=e(30381),h=e.n(v);function I(t){sessionStorage.setItem("token",t)}function g(){return sessionStorage.getItem("token")}function T(){sessionStorage.removeItem("token")}function m(t){return t?t.startsWith("http")?t:"".concat("").concat(t):"".concat("","/avatar.jpeg")}function f(t){return moment(t).format("YYYY-MM-DD HH:mm:ss")}}}]);
