(self.webpackChunkhdf_app_manager=self.webpackChunkhdf_app_manager||[]).push([[270],{90672:function(S,v,e){"use strict";var F=e(22122),f=e(81253),p=e(67294),l=e(10244),_=["fieldProps","proFieldProps"],g=function(h,i){var m=h.fieldProps,d=h.proFieldProps,a=(0,f.Z)(h,_);return p.createElement(l.Z,(0,F.Z)({ref:i,mode:"edit",valueType:"textarea",fieldProps:m,proFieldProps:d},a))};v.Z=p.forwardRef(g)},9321:function(S,v,e){"use strict";var F=e(9715),f=e(93766),p=e(43185),l=e(94412),_=e(34792),g=e(48086),M=e(2824),h=e(67294),i=e(7085),m=e(49101),d=e(17024),a=e(85893),n=function(o){var s=o.coverImage,O=o.setCoverImage,E=(0,h.useState)(!1),y=(0,M.Z)(E,2),K=y[0],A=y[1],U=function(c){var R=c.type==="image/jpeg"||c.type==="image/png";R||g.default.error("You can only upload JPG/PNG file!");var W=c.size/1024/1024<2;return W||g.default.error("Image must smaller than 2MB!"),R&&W},z=function(c){if(c.file.status==="uploading"){A(!0);return}c.file.status==="done"&&(O(c.file.response.data),A(!1))},H=(0,a.jsxs)("div",{children:[K?(0,a.jsx)(i.Z,{}):(0,a.jsx)(m.Z,{}),(0,a.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,a.jsx)(f.Z.Item,{label:"\u56FE\u7247",children:(0,a.jsx)(l.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat("","/common/upload"),beforeUpload:U,onChange:z,children:s?(0,a.jsx)("img",{src:(0,d.up)(s),alt:"\u56FE\u7247",style:{maxWidth:"100%",maxHeight:"100%"}}):H})})};v.Z=n},39919:function(S,v,e){"use strict";e.r(v),e.d(v,{default:function(){return te}});var F=e(34792),f=e(48086),p=e(11849),l=e(49111),_=e(19650),g=e(62350),M=e(75443),h=e(57663),i=e(71577),m=e(3182),d=e(9715),a=e(93766),n=e(2824),P=e(94043),o=e.n(P),s=e(67265),O=e(28991),E=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},K=y,A=e(27029),U=function(L,V){return E.createElement(A.Z,(0,O.Z)((0,O.Z)({},L),{},{ref:V,icon:K}))};U.displayName="DeleteFilled";var z=E.forwardRef(U),H=e(8212),Y=e(49101),c=e(8890),R=e(5966),W=e(90672),k=e(35255),B=e(82193),q=e(9321),ee=e(17024),t=e(85893);function ae(){var J=(0,E.useState)(!1),L=(0,n.Z)(J,2),V=L[0],T=L[1],re=(0,E.useState)(""),Q=(0,n.Z)(re,2),$=Q[0],G=Q[1],ne=(0,E.useState)(""),X=(0,n.Z)(ne,2),b=X[0],w=X[1],Z=(0,E.useRef)(),se=a.Z.useForm(),le=(0,n.Z)(se,1),N=le[0],de=[{title:"\u5E8F\u53F7",align:"center",hideInSearch:!0,render:function(I,D,u){return(0,t.jsx)(t.Fragment,{children:u+1})}},{title:"\u540D\u5B57",align:"center",dataIndex:"name"},{title:"\u4E3B\u56FE",align:"center",hideInSearch:!0,render:function(I,D){return(0,t.jsx)("img",{src:(0,ee.up)(D.image),style:{width:"80px"}})}},{title:"\u63CF\u8FF0",align:"center",dataIndex:"desc",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"center",hideInSearch:!0,render:function(I,D){return(0,t.jsxs)(_.Z,{children:[(0,t.jsx)(i.Z,{onClick:(0,m.Z)(o().mark(function u(){var C;return o().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,B.Sf)(D.id);case 2:C=x.sent,T(!0),G(C.image),w(C.id),N.setFieldsValue(C);case 7:case"end":return x.stop()}},u)})),type:"primary",size:"small",title:"\u7F16\u8F91",icon:(0,t.jsx)(H.Z,{})}),(0,t.jsx)(M.Z,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",onConfirm:(0,m.Z)(o().mark(function u(){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,B.Fv)(D.id);case 2:Z.current&&Z.current.reload();case 3:case"end":return r.stop()}},u)})),children:(0,t.jsx)(i.Z,{type:"primary",danger:!0,size:"small",icon:(0,t.jsx)(z,{})})})]})}}];return(0,t.jsxs)(s.ZP,{children:[(0,t.jsx)(k.ZP,{headerTitle:"\u79D1\u5BA4\u4FE1\u606F",actionRef:Z,rowKey:"id",columns:de,pagination:{showSizeChanger:!1,pageSize:10},request:B.e1,toolBarRender:function(){return[(0,t.jsxs)(i.Z,{type:"primary",onClick:function(){T(!0),w(""),G(""),N.setFieldsValue({name:"",desc:""})},children:[(0,t.jsx)(Y.Z,{}),"\u65B0\u5EFA"]},"primary")]}}),(0,t.jsxs)(c.Y,{title:"\u7F16\u8F91",width:"800px",initialValues:{name:"Tom"},form:N,visible:V,onVisibleChange:T,onFinish:function(){var j=(0,m.Z)(o().mark(function I(D){var u;return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(u=(0,p.Z)({},D),$&&(u.image=$),b==""){r.next=9;break}return r.next=5,(0,B.Ec)(b,u);case 5:f.default.success("\u4FEE\u6539\u6210\u529F"),T(!1),r.next=13;break;case 9:return r.next=11,(0,B.mS)(u);case 11:f.default.success("\u65B0\u589E\u6210\u529F"),T(!1);case 13:Z.current&&Z.current.reload();case 14:case"end":return r.stop()}},I)}));return function(I){return j.apply(this,arguments)}}(),children:[(0,t.jsx)(R.Z,{label:"\u540D\u5B57",rules:[{required:!0,message:"\u5206\u7C7B\u540D\u5B57\u5FC5\u586B"}],placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u5B57",width:"md",name:"name"}),(0,t.jsx)(W.Z,{label:"\u7B80\u4ECB",placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",width:"md",name:"desc"}),(0,t.jsx)(q.Z,{coverImage:$,setCoverImage:G})]})]})}var te=ae},82193:function(S,v,e){"use strict";e.d(v,{e1:function(){return g},Sf:function(){return M},mS:function(){return h},Ec:function(){return i},Fv:function(){return m}});var F=e(3182),f=e(94043),p=e.n(f),l=e(21010);function _(){return request("/admin/departments?per=100")}var g=function(){var d=(0,F.Z)(p().mark(function a(n){var P;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,l.WY)("/admin/departments",{method:"get",params:{page:n.current,name:n.name}});case 2:return P=s.sent,console.log(P),s.abrupt("return",new Promise(function(O){O({data:P.list,success:!0,total:P.total})}));case 5:case"end":return s.stop()}},a)}));return function(n){return d.apply(this,arguments)}}(),M=function(a){return(0,l.WY)("/admin/departments/".concat(a),{method:"GET"})},h=function(a){return(0,l.WY)("/admin/departments",{method:"POST",data:a})},i=function(a,n){return(0,l.WY)("/admin/departments/".concat(a),{method:"PATCH",data:n})},m=function(a){return(0,l.WY)("/admin/departments/".concat(a),{method:"DELETE"})}}}]);
